<header th:replace="gestionnaire/header"> </header>

<div class="content-body">

	<div class="row page-titles mx-0">
		<div class="col p-md-0">
			<ol class="breadcrumb">
				<li class="breadcrumb-item"><a href="javascript:void(0)">Dashboard</a></li>
				<li class="breadcrumb-item active"><a href="javascript:void(0)">Evenement A La Demande</a></li>
			</ol>
		</div>
	</div>
	<!-- row -->

	<div class="container-fluid">
		<div class="row">
			<div class="col-12">
				<div class="card">
					<div class="card-body">
						<h3 class="card-widget__title text-dark mt-3">LISTE DES
							DEMANDES</h3>
					</div>
				</div>
			</div>
		</div>
		<div class="row justify-content-center">
			<div class="col-lg-12">
				<div class="row">
					<div class="col-lg-12">
						<div class="card">
							<div class="card-body">
								<div class="active-member">
									<div class="table-responsive">
										<table class="table table-xs mb-0">
											<thead>
												<tr>
													<th>Entreprise</th>
													<th>Nom de l'evenement</th>
													<th>Motif</th>
													<th>Reference</th>
													<th>Status</th>
													<th>Action</th>
												</tr>
											</thead>
											<tbody>
												<tr th:if="${eventAsk.empty}">
													<td colspan="4">Aucune demande faite actuellement ...</td>
												</tr>
												<tr th:each="e:${eventAsk}">
													<td th:text="${e.entreprise.nomEntreprise}"></td>
													<td th:text="${e.nomEvent}"></td>
													<td th:text="${e.motif}"></td>
													<td th:text="${e.reference}"></td>
													<td th:text="${e.isApproved == false} ? 'En attente d\'approbation' : 'Approuve'"></td>										
													<td><span> <a
															th:href="@{'~/gestionnaire/event/demande/view/'+${e.id}}"><button
																	type="button" class="btn btn-sm btn-warning">
																	<i class="fa fa-eye"></i>
																</button></a>
													</span></td>													
													<td><span> <a
															onclick="return confirm('Souhaitez vous approuver cet evenement?')"
															th:href="@{'~/gestionnaire/event/demande/accept/'+${e.id}}"><button
																	type="button" class="btn btn-sm btn-success">
																	<i class="fa fa-check"></i>
																</button></a>
													</span></td>
													<td><span> <a
															onclick="return confirm('Vous etes sur le point de desapprouver cet evenement. Cette operation est irreversible. Souhaitez-vous continuer?')"
															th:href="@{'~/gestionnaire/event/demande/refuse/'+${e.id}}"><button
																	type="button" class="btn btn-sm btn-danger">
																	<i class="fa fa-remove"></i>
																</button></a>
													</span></td>
												</tr>												
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>



	</div>
	<!-- #/ container -->
</div>
<!--**********************************
            Content body end
        ***********************************-->

<div th:replace="layouts/footer :: footer"></div>